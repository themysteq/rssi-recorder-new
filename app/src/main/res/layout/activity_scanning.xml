<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/activity_scanning"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingBottom="@dimen/activity_vertical_margin"
    android:paddingLeft="@dimen/activity_horizontal_margin"
    android:paddingRight="@dimen/activity_horizontal_margin"
    android:paddingTop="@dimen/activity_vertical_margin"
    tools:context="pl.mysteq.software.rssirecordernew.activities.ScanningActivity">

    <LinearLayout
        android:orientation="vertical"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:clickable="true"
        android:scrollbars="horizontal|vertical"
        android:scaleX="1"
        android:scaleY="1"
        android:fadeScrollbars="false"
        android:scrollbarFadeDuration="0"
        android:scrollbarAlwaysDrawHorizontalTrack="false"
        android:scrollbarAlwaysDrawVerticalTrack="false"
        android:layout_alignParentTop="true"
        android:layout_alignParentStart="true">

        <FrameLayout
            android:layout_width="700px"
            android:layout_height="700px"
            android:layout_weight="1"
            android:id="@+id/frameLayoutWithImages">

            <ImageView
                android:id="@+id/markupMeasuresImageView"
                android:scaleType="matrix"
                android:layout_height="700px"
                android:alpha="0.5"
                android:layout_width="match_parent"
                android:clickable="false"
                android:elevation="2dp"
                android:scaleX="1"
                android:scaleY="1" />
            <ImageView
                android:id="@+id/buildingPlanImageView"
                android:scaleType="matrix"
                android:layout_height="700px"
                android:elevation="1dp"
                android:alpha="0.5"
                android:layout_width="match_parent"
                android:scaleX="1"
                android:scaleY="1" />


        </FrameLayout>


        <TextView
            android:text="TextView"
            android:layout_width="match_parent"
            android:layout_height="40dp"
            android:layout_marginBottom="44dp"
            android:id="@+id/scanningTextView"
            tools:text=" wywołał).  Zauważcie, że nie tworzę sobie typu Obliczenia, tylko od razu po stworzeniu wywołuję na nim metodę run(). Jest to spowodowane m.in. tym, że AsyncTask możemy wykonać tylko raz. Aby wykonać zadanie ponownie należy stworzyć kolejną instancję.  Kolejną ciekawostką jest użycie metody onCreateDialog(int dialogID). Dlaczego tak, zamiast po prostu dialog.show()? Otóż dialog.show() może doprowadzić do wycieków pamięci w przypadku, gdy Activity w tle zostanie niespodziewanie zamknięte. W ten sposób całą odpowiedzialność za ewentualne wycieki pamięci przejmuje za nas Android, a my mamy jedną rzecz mniej o którą możemy się martwić. Niestety według dokumentacji od API 13 jest to metoda przedawniona i zaleca się teraz stosowanie kalsy DialogFragment z FragmentManager. Jeszcze się z tym nie zapoznałem. Jak zobaczę o co chodzi, to napiszę odpowiedni artykuł i podlinkuję tutaj."
            android:layout_alignParentBottom="true"
            android:layout_alignParentStart="true"
            android:scrollHorizontally="false"
            android:password="false"
            android:editable="false"
            android:fadeScrollbars="false"
            android:maxLines="4"
            android:scrollbars="vertical"
            android:textAppearance="@style/AppTheme" />

        <SeekBar
            style="@style/AppTheme"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:max="3"
            android:progress="0"
            android:id="@+id/zoomSeekBar"
            android:layout_weight="1" />

        <LinearLayout
            android:orientation="horizontal"
            android:layout_width="match_parent"
            android:layout_height="wrap_content">

            <Button
                android:text="-- obrot"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:id="@+id/mostLeftButton"
                android:layout_weight="1"
                android:textSize="12sp" />

            <Button
                android:text="zapisz"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:id="@+id/leftButton"
                android:layout_weight="1"
                android:textSize="12sp" />

            <Button
                android:text="usun"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:id="@+id/rightButton"
                android:layout_weight="1"
                android:textSize="12sp" />

            <Button
                android:text="obrot --"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:id="@+id/mostRightButton"
                android:layout_weight="1"
                android:textSize="12sp" />

        </LinearLayout>


    </LinearLayout>

</RelativeLayout>
